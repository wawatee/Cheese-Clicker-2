<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMATE CHEESE EXPERIENCE</title>
    <style>
        body {
            text-align: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(45deg, #ffeb99, #ffcc66);
            margin: 0;
            padding: 0;
            min-height: 200vh; /* Set minimum height to enable scrolling */
            animation: backgroundPulse 5s infinite alternate;
            cursor: url('assets/material-cheese-cursor.png'), auto;
            transition: background 1s;
        }
        @keyframes backgroundPulse {
            from { background: linear-gradient(45deg, #ffeb99, #ffcc66); }
            to { background: linear-gradient(45deg, #ffcc66, #ffb347); }
        }
        h1 {
            font-size: 4em;
            color: #d2691e;
            text-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
            animation: cheeseGlow 1.5s infinite alternate;
        }
        @keyframes cheeseGlow {
            from { text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3); }
            to { text-shadow: 7px 7px 20px rgba(255, 165, 0, 1); }
        }
        button, a {
            font-size: 2em;
            padding: 20px 40px;
            margin-top: 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.3);
        }
        button {
            background: radial-gradient(circle, #ffa500, #ff7f00);
            color: white;
            animation: buttonPulse 1s infinite alternate;
        }
        button:hover {
            transform: scale(1.3) rotate(-5deg);
        }
        @keyframes buttonPulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        .combo {
            font-size: 2em;
            color: red;
            margin-top: 10px;
            animation: comboPulse 0.5s ease-in-out;
        }
        @keyframes comboPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1); }
        }
        #cheeseLink {
            margin-top: 60px; /* Increased margin to move the link further down */
            display: inline-block;
            animation: linkPulse 1.5s infinite alternate;
        }
        @keyframes linkPulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        #marioSection {
            margin-top: 50px;
        }
        #marioGif {
            display: none;
            width: 300px;
            animation: marioDance 1s infinite alternate;
        }
        @keyframes marioDance {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }
        #muteButton {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #ff7f00;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
        }
        .shake1 {
            animation: shake1 0.5s infinite;
        }
        .shake2 {
            animation: shake2 0.5s infinite;
        }
        .shake3 {
            animation: shake3 0.5s infinite;
        }
        .shake4 {
            animation: shake4 0.5s infinite;
        }
        .shake5 {
            animation: shake5 0.5s infinite;
        }
        .shake6 {
            animation: shake6 0.5s infinite;
        }
        @keyframes shake1 {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        @keyframes shake2 {
            0% { transform: translate(2px, 2px) rotate(0deg); }
            10% { transform: translate(-2px, -4px) rotate(-2deg); }
            20% { transform: translate(-6px, 0px) rotate(2deg); }
            30% { transform: translate(6px, 4px) rotate(0deg); }
            40% { transform: translate(2px, -2px) rotate(2deg); }
            50% { transform: translate(-2px, 4px) rotate(-2deg); }
            60% { transform: translate(-6px, 2px) rotate(0deg); }
            70% { transform: translate(6px, 2px) rotate(-2deg); }
            80% { transform: translate(-2px, -2px) rotate(2deg); }
            90% { transform: translate(2px, 4px) rotate(0deg); }
            100% { transform: translate(2px, -4px) rotate(-2deg); }
        }
        @keyframes shake3 {
            0% { transform: translate(3px, 3px) rotate(0deg); }
            10% { transform: translate(-3px, -6px) rotate(-3deg); }
            20% { transform: translate(-9px, 0px) rotate(3deg); }
            30% { transform: translate(9px, 6px) rotate(0deg); }
            40% { transform: translate(3px, -3px) rotate(3deg); }
            50% { transform: translate(-3px, 6px) rotate(-3deg); }
            60% { transform: translate(-9px, 3px) rotate(0deg); }
            70% { transform: translate(9px, 3px) rotate(-3deg); }
            80% { transform: translate(-3px, -3px) rotate(3deg); }
            90% { transform: translate(3px, 6px) rotate(0deg); }
            100% { transform: translate(3px, -6px) rotate(-3deg); }
        }
        @keyframes shake4 {
            0% { transform: translate(4px, 4px) rotate(0deg); }
            10% { transform: translate(-4px, -8px) rotate(-4deg); }
            20% { transform: translate(-12px, 0px) rotate(4deg); }
            30% { transform: translate(12px, 8px) rotate(0deg); }
            40% { transform: translate(4px, -4px) rotate(4deg); }
            50% { transform: translate(-4px, 8px) rotate(-4deg); }
            60% { transform: translate(-12px, 4px) rotate(0deg); }
            70% { transform: translate(12px, 4px) rotate(-4deg); }
            80% { transform: translate(-4px, -4px) rotate(4deg); }
            90% { transform: translate(4px, 8px) rotate(0deg); }
            100% { transform: translate(4px, -8px) rotate(-4deg); }
        }
        @keyframes shake5 {
            0% { transform: translate(5px, 5px) rotate(0deg); }
            10% { transform: translate(-5px, -10px) rotate(-5deg); }
            20% { transform: translate(-15px, 0px) rotate(5deg); }
            30% { transform: translate(15px, 10px) rotate(0deg); }
            40% { transform: translate(5px, -5px) rotate(5deg); }
            50% { transform: translate(-5px, 10px) rotate(-5deg); }
            60% { transform: translate(-15px, 5px) rotate(0deg); }
            70% { transform: translate(15px, 5px) rotate(-5deg); }
            80% { transform: translate(-5px, -5px) rotate(5deg); }
            90% { transform: translate(5px, 10px) rotate(0deg); }
            100% { transform: translate(5px, -10px) rotate(-5deg); }
        }
        @keyframes shake6 {
            0% { transform: translate(6px, 6px) rotate(0deg); }
            10% { transform: translate(-6px, -12px) rotate(-6deg); }
            20% { transform: translate(-18px, 0px) rotate(6deg); }
            30% { transform: translate(18px, 12px) rotate(0deg); }
            40% { transform: translate(6px, -6px) rotate(6deg); }
            50% { transform: translate(-6px, 12px) rotate(-6deg); }
            60% { transform: translate(-18px, 6px) rotate(0deg); }
            70% { transform: translate(18px, 6px) rotate(-6deg); }
            80% { transform: translate(-6px, -6px) rotate(6deg); }
            90% { transform: translate(6px, 12px) rotate(0deg); }
            100% { transform: translate(6px, -12px) rotate(-6deg); }
        }
        #bottomImage {
            display: none;
            width: 100%;
            position: absolute;
            bottom: 0;
        }
    </style>
</head>
<body>
    <h1>ðŸ§€ ULTIMATE CHEESE EXPERIENCE ðŸ§€</h1>
    <p class="combo">Combo: <span id="comboCount">0</span></p>
    <button id="cheeseButton" onclick="showRandomCheese()">GET CHEESE NOW</button>
    <br>
    <a id="cheeseLink" href="#" target="_blank">EXPLORE THE CHEESE REALM</a>
    
    <div id="marioSection">
        <img id="marioGif" src="assets/mario-dancing-mario.gif" alt="Dancing Mario">
    </div>
    
    <audio id="backgroundMusic" loop>
        <source src="assets/Crash Twinsanity Soundtrack - N. Sanity Island.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <button id="muteButton" onclick="toggleMute()">ðŸ”Š</button>

    <img id="bottomImage" src="https://github.com/wawatee/Cheese-Clicker-2/blob/main/assets/image.png?raw=true" alt="Bottom Image">
    
    <script>
        let combo = 0;
        let comboTimeout;
        const usedSearchTerms = new Set();
        const searchTerms = [
            "cheddar cheese", "brie cheese", "gouda cheese", "swiss cheese", "parmesan cheese", "blue cheese", "mozzarella cheese", "camembert cheese", "halloumi cheese", "havarti cheese",
            "peter griffin", "cheese clicker", "cheese fondue", "cheese platter", "cheese pizza", "cheese sandwich", "cheese burger", "cheese fries", "cheese dip", "cheese cake",
            "cheese sticks", "cheese balls", "cheese bread", "cheese soup", "cheese sauce", "cheese omelette", "cheese pasta", "cheese salad", "cheese roll", "cheese pie",
            "cheese nachos", "cheese tacos", "cheese burrito", "cheese quesadilla", "cheese enchilada", "cheese lasagna", "cheese ravioli", "cheese gnocchi", "cheese risotto", "cheese fondue",
            "cheese puffs", "cheese crackers", "cheese dipper", "cheese fonduta", "cheese souffle", "cheese tart", "cheese croissant", "cheese scone", "cheese muffin", "cheese pancake", "Wawa Cat"
        ];

        function showRandomCheese() {
            combo++;
            document.getElementById("comboCount").innerText = combo;
            document.getElementById("comboCount").classList.add('comboPulse');
            setTimeout(() => {
                document.getElementById("comboCount").classList.remove('comboPulse');
            }, 500);

            let randomTerm;
            do {
                randomTerm = searchTerms[Math.floor(Math.random() * searchTerms.length)];
            } while (usedSearchTerms.has(randomTerm));

            usedSearchTerms.add(randomTerm);
            if (usedSearchTerms.size === searchTerms.length) {
                usedSearchTerms.clear();
            }

            const searchUrl = `https://www.google.com/search?tbm=isch&q=${encodeURIComponent(randomTerm)}`;
            document.getElementById("cheeseLink").href = searchUrl;
            document.getElementById("cheeseLink").innerText = "You got " + randomTerm + "!";

            applyShakeEffect();
            resetComboTimeout();

            if (combo >= 50) {
                applyHardShakeEffect();
                hideCheeseButton();
                setTimeout(() => {
                    location.reload();
                }, 4000);
            }
        }

        function applyShakeEffect() {
            const body = document.body;
            body.classList.remove('shake1', 'shake2', 'shake3', 'shake4', 'shake5', 'shake6');

            if (combo >= 50) {
                applyHardShakeEffect();
            } else if (combo >= 35) {
                body.classList.add('shake5');
            } else if (combo >= 25) {
                body.classList.add('shake4');
            } else if (combo >= 15) {
                body.classList.add('shake3');
            } else if (combo >= 10) {
                body.classList.add('shake2');
            } else if (combo >= 5) {
                body.classList.add('shake1');
            }
        }

        function resetComboTimeout() {
            clearTimeout(comboTimeout);
            comboTimeout = setTimeout(() => {
                combo = 0;
                document.getElementById("comboCount").innerText = combo;
                document.body.classList.remove('shake1', 'shake2', 'shake3', 'shake4', 'shake5', 'shake6');
            }, 3000);
        }

        function applyHardShakeEffect() {
            const body = document.body;
            body.classList.add('shake6');
        }

        function hideCheeseButton() {
            const cheeseButton = document.getElementById('cheeseButton');
            cheeseButton.style.display = 'none';
            setTimeout(() => {
                cheeseButton.style.display = 'inline-block';
            }, 4000);
        }

        // Automatically show Mario dancing after 3 seconds
        setTimeout(() => {
            document.getElementById("marioGif").style.display = "block";
        }, 3000);

        // Play background music
        const backgroundMusic = document.getElementById('backgroundMusic');
        backgroundMusic.play();

        // Toggle mute
        function toggleMute() {
            if (backgroundMusic.muted) {
                backgroundMusic.muted = false;
                document.getElementById('muteButton').innerText = 'ðŸ”Š';
            } else {
                backgroundMusic.muted = true;
                document.getElementById('muteButton').innerText = 'ðŸ”‡';
            }
        }

        // Change background color and show image when scrolling down
        window.addEventListener('scroll', () => {
            const scrollHeight = document.documentElement.scrollHeight;
            const scrollTop = document.documentElement.scrollTop;
            const clientHeight = document.documentElement.clientHeight;
            const bottomImage = document.getElementById('bottomImage');

            if (scrollTop + clientHeight >= scrollHeight - 50) {
                document.body.style.background = 'black';
                bottomImage.style.display = 'block';
            } else {
                document.body.style.background = 'linear-gradient(45deg, #ffeb99, #ffcc66)';
                bottomImage.style.display = 'none';
            }
        });
    </script>
</body>
</html>
